# üìà 5.5 Dashboard: Mercado y Arbitraje (`dashboard.py`)

> **Objetivo**: Visualizar la inteligencia del mercado y el rendimiento del Arbitraje en tiempo real.
> **Secci√≥n**: Endpoints de Inteligencia de Mercado

---

## 1. `get_market_health_matrix` (Kalman Filter Stats)
```python
@router.get("/market/health")
```
*   Muestra una matriz de todos los modelos disponibles (GPT-4, Claude-3, Mistral, Llama-3).
*   **M√©tricas**:
    *   `estimated_latency_ms`: Latencia predicha actual.
    *   `volatility_index`: Incertidumbre del modelo (derivado de la varianza en el Filtro de Kalman).
*   **Status**:
    *   `HEALTHY`: Bajo coste, baja latencia, alta disponibilidad.
    *   `VOLATILE`: El proveedor est√° teniendo problemas intermitentes.
    *   `DEGRADED`: Latencia anormalmente alta (>2s).

## 2. `get_arbitrage_savings_report` (FOMO Metrics)
```python
@router.get("/dashboard/arbitrage/comparison")
```
*   **Psicolog√≠a de Ventas**: Muestra al usuario cu√°nto dinero est√° perdiendo por NO activar el "Smart Routing".
*   **M√©tricas**:
    *   `actual_savings`: Dinero ahorrado real (cuando Smart Routing est√° ON).
    *   `potential_savings_lost` (FOMO): Dinero que *podr√≠a* haber ahorrado si hubiera permitido cambiar modelos (cuando Smart Routing est√° OFF).
    *   Calculado en `proxy.py` comparando el coste del modelo elegido vs el m√°s barato disponible.
